## ----------------------------------------------------------------------------------- ##
##                                                                                     ##
## EPITECH PROJECT - Sat, Mar, 2025                                                    ##
## Title           - scripts                                                           ##
## Description     -                                                                   ##
##     exclude                                                                         ##
##                                                                                     ##
## ----------------------------------------------------------------------------------- ##
##                                                                                     ##
##             ███████╗██████╗ ██╗████████╗███████╗ ██████╗██╗  ██╗                    ##
##             ██╔════╝██╔══██╗██║╚══██╔══╝██╔════╝██╔════╝██║  ██║                    ##
##             █████╗  ██████╔╝██║   ██║   █████╗  ██║     ███████║                    ##
##             ██╔══╝  ██╔═══╝ ██║   ██║   ██╔══╝  ██║     ██╔══██║                    ##
##             ███████╗██║     ██║   ██║   ███████╗╚██████╗██║  ██║                    ##
##             ╚══════╝╚═╝     ╚═╝   ╚═╝   ╚══════╝ ╚═════╝╚═╝  ╚═╝                    ##
##                                                                                     ##
## ----------------------------------------------------------------------------------- ##

import os
import subprocess
import sys
import time
import threading
from rich import *

## ----------------------------------------------------------------------------------- ##

from main import exit_with_error

## ----------------------------------------------------------------------------------- ##

valid_cs = [
            "O1", "O2", "O3", "O4",
            "G1", "G2", "G3", "G4", "G5", "G6", "G7", "G8", "G9", "GA",
            "F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8", "F9",
            "L1", "L2", "L3", "L4", "L5", "L6",
            "V1", "V2", "V3", 
            "C1", "C2", "C3",
            "H1", "H2", "H3",
            "A1", "A2", "A3", "A4"
            ]

def add_exclude(exclude, arg):

    i = 0
    while i < len(arg) and (arg[i].isalpha() or arg[i].isdigit()):
        i += 1
    if i == len(arg):
        split = [arg]
    else:
        split = arg.split(arg[i])
    for cs in split:
        if cs == "G10":
            cs = "GA"
        if cs not in valid_cs:
            exit_with_error(f"{cs} is not a valid coding style rule", 1, 1)
        exclude.append(cs)
    return exclude